{"pageProps":{"postData":{"id":"JS 使用plop生成博客模板","contentHtml":"<p><a href=\"https://github.com/amwmedia/plop\">plop</a>是一个可以自定义生成格式化文件的js库，本文使用它作为对gatsby博客的补充，可以自动生成md博客</p>\n<ul>\n<li>\n<p>安装plop <code>yarn add plop</code></p>\n</li>\n<li>\n<p>项目根目录新建<code>plopfile.js</code></p>\n<p>plop 是一个node包，module.exports 公开了包含<code>setGenerator(name，config)</code>函数的plop api对象</p>\n<pre><code><span>// const blogGenerator = require('./plop-template/prompt')</span>\n<span>module</span>.<span>exports</span> = <span>function</span> (<span>plop</span>) {\n    <span>// controller generator</span>\n    plop.<span>setGenerator</span>(<span>'blog'</span>, {\n        <span>description</span>: <span>\"generate new blog\"</span>,\n        <span>prompts</span>: [\n            {\n                <span>type</span>: <span>'input'</span>,\n                <span>name</span>: <span>'name'</span>,\n                <span>message</span>: <span>'blog title please'</span>\n            }\n        ],\n        <span>actions</span>: <span><span>data</span> =></span> {\n            <span>const</span> name = <span>'{{name}}'</span>\n            <span>const</span> actions = [\n                {\n                    <span>type</span>: <span>'add'</span>,\n                    <span>path</span>: <span>`content/blog/<span>${name}</span>/index.md`</span>,\n                    <span>templateFile</span>: <span>'./plop-blog.hbs'</span>,\n                    <span>data</span>: {\n                        <span>name</span>: name,\n                        <span>date</span>: <span>new</span> <span>Date</span>()\n                    }\n                }\n            ]\n            <span>return</span> actions\n        }\n    });\n};</code></pre>\n</li>\n<li>\n<p>在当前目录生成一个模板文件<code>plop-blog.hbs</code></p>\n<pre><code>---\ntitle: {{ name}}\ndate: {{ date}}\ndescription: 'description'\n<span>tag: \n---</span></code></pre>\n</li>\n<li>\n<p>在package.json中添加对应脚本<code>\"new\":\"plop blog\" </code>npm run new bolg title` plop 会默认生成标题</p>\n</li>\n</ul>\n","title":"使用plop生成博客模板","date":"2020-06-28T07:21:32.000Z","description":"使用plop自动生成博客模板","tag":"工作流、JavaScript"}},"__N_SSG":true}