{"pageProps":{"postData":{"id":"前端 Virtual DOM与diff算法","contentHtml":"<h2 id=\"user-content-背景\"><a href=\"#%E8%83%8C%E6%99%AF\" aria-hidden=\"true\" tabindex=\"-1\"><span></span></a>背景</h2>\n<p>dom的操作成本是非常高的，并且极其容易导致页面的回流重绘，开销大</p>\n<h2 id=\"user-content-virtual-dom\"><a href=\"#virtual-dom\" aria-hidden=\"true\" tabindex=\"-1\"><span></span></a>Virtual DOM</h2>\n<p>Virtual Dom 算法包括几个步骤</p>\n<ol>\n<li>使用 JavaScript 对象结构表示 DOM 树的结构；然后用这个树构建一个真正的DOM树，插到文档中。</li>\n<li>当状态变更的时候，重新构造一棵新的对象树，然后用新的对象树与旧的树进行比较，记录两棵树的差异</li>\n<li>将步骤2记录的差异应用到步骤1所构建的真正 DOM 树上，更新视图</li>\n</ol>\n<h3 id=\"user-content-虚拟dom-转为-真实dom\"><a href=\"#%E8%99%9A%E6%8B%9Fdom-%E8%BD%AC%E4%B8%BA-%E7%9C%9F%E5%AE%9Edom\" aria-hidden=\"true\" tabindex=\"-1\"><span></span></a>虚拟DOM 转为 真实DOM</h3>\n<h3 id=\"user-content-真实dom-转为-虚拟dom\"><a href=\"#%E7%9C%9F%E5%AE%9Edom-%E8%BD%AC%E4%B8%BA-%E8%99%9A%E6%8B%9Fdom\" aria-hidden=\"true\" tabindex=\"-1\"><span></span></a>真实DOM 转为 虚拟DOM</h3>\n<h2 id=\"user-content-diff-算法\"><a href=\"#diff-%E7%AE%97%E6%B3%95\" aria-hidden=\"true\" tabindex=\"-1\"><span></span></a>diff 算法</h2>\n<h3 id=\"user-content-捕获actions\"><a href=\"#%E6%8D%95%E8%8E%B7actions\" aria-hidden=\"true\" tabindex=\"-1\"><span></span></a>捕获actions</h3>\n<h3 id=\"user-content-patch-将actions-应用到-真实dom中\"><a href=\"#patch-%E5%B0%86actions-%E5%BA%94%E7%94%A8%E5%88%B0-%E7%9C%9F%E5%AE%9Edom%E4%B8%AD\" aria-hidden=\"true\" tabindex=\"-1\"><span></span></a>patch 将actions 应用到 真实DOM中</h3>\n<h2 id=\"user-content-参考\"><a href=\"#%E5%8F%82%E8%80%83\" aria-hidden=\"true\" tabindex=\"-1\"><span></span></a>参考</h2>\n<p><a href=\"https://segmentfault.com/a/1190000016129036\">你不知道的Virtual DOM（一）：Virtual Dom介绍 - SegmentFault 思否</a></p>\n<p><a href=\"https://github.com/livoras/blog/issues/13\">深度剖析：如何实现一个 Virtual DOM 算法 · Issue #13 · livoras/blog (github.com)</a></p>\n<p><a href=\"https://hustyichi.github.io/2020/09/16/vdom/#react-%E7%AE%97%E6%B3%95\">虚拟 DOM 与 diff 算法 - 易迟的博客 | Bryan Blog (hustyichi.github.io)</a></p>\n<p><a href=\"https://github.com/snabbdom/snabbdom\">snabbdom/snabbdom: A virtual DOM library with focus on simplicity, modularity, powerful features and performance. (github.com)</a></p>\n<p><a href=\"https://github.com/infernojs/inferno\">infernojs/inferno: An extremely fast, React-like JavaScript library for building modern user interfaces (github.com)</a></p>\n<p><a href=\"https://segmentfault.com/a/1190000011235844\">去哪儿网迷你React的研发心得 - SegmentFault 思否</a></p>\n<p>[未完待续...]</p>\n","title":"Virtual DOM 与 diff 算法","date":"2021-05-28T17:39:31.000Z","category":"category","tag":"algorithm","cover":null,"description":"现代前端框架使用的Virtual DOM与diff算法概述"}},"__N_SSG":true}